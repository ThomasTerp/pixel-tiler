{"version":3,"sources":["Vector2D.ts","util.ts","Grid.tsx","App.tsx","reportWebVitals.ts","Tileset.tsx","index.tsx"],"names":["Vector2D","x","y","this","other","Error","ids","Grid","props","_svg","_isDragging","_dragCursorOffset","_dragOffset","_svg_OnMouseWheel_Zoom","event","ctrlKey","originalEvent","wheelDelta","state","zoom","zoomMinimum","zoomMaximum","$window","$","window","add","offsetX","width","zoomOffsetMultiplier","offsetY","height","setState","offset","copy","subtract","addZoom","preventDefault","_svg_OnMouseDown_StartDragging","button","nativeEvent","_document_OnMouseUp_StopDragging","_svg_OnMouseMove_Drag","_document_OnKeyDown_Hotkeys","key","offsetIncrement","gridSize","Math","min","gridSizeMaximum","max","gridSizeMinimum","zoomIncrement","_window_Resize_SetSize","size","prefix","windowSize","uniqueID","color1","color2","React","createRef","divide","multiply","className","ref","xmlns","preserveAspectRatio","viewBox","onMouseDown","onMouseMove","id","patternUnits","fill","stroke","strokeWidth","x1","y1","x2","y2","style","transformOrigin","transform","$document","document","$svg","current","on","off","zoomAdd","value","zoomMultiplier","position","floor","gridPosition","Component","defaultProps","App","grid","selectedTileset","tilesets","selectedTile","getTile","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Tileset","name","_tiles","tileID","tile","ReactDOM","render","StrictMode","default","getElementById"],"mappings":"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","file":"static/js/main.daf9ef44.chunk.js","sourcesContent":["\r\nexport default class Vector2D\r\n{\r\n\tx: number;\r\n\ty: number;\r\n\r\n\tconstructor(x: number, y: number)\r\n\t{\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tadd(other: Vector2D | number)\r\n\t{\r\n\t\tif(typeof other === \"number\")\r\n\t\t{\r\n\t\t\tthis.x += other;\r\n\t\t\tthis.y += other;\r\n\t\t}\r\n\t\telse if(other instanceof Vector2D)\r\n\t\t{\r\n\t\t\tthis.x += other.x;\r\n\t\t\tthis.y += other.y;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow new Error(\"Can only multiply by a number or another Vector2D\");\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tsubtract(other: Vector2D | number)\r\n\t{\r\n\t\tif(typeof other === \"number\")\r\n\t\t{\r\n\t\t\tthis.x -= other;\r\n\t\t\tthis.y -= other;\r\n\t\t}\r\n\t\telse if(other instanceof Vector2D)\r\n\t\t{\r\n\t\t\tthis.x -= other.x;\r\n\t\t\tthis.y -= other.y;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow new Error(\"Can only multiply by a number or another Vector2D\");\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tmultiply(other: Vector2D | number)\r\n\t{\r\n\t\tif(typeof other === \"number\")\r\n\t\t{\r\n\t\t\tthis.x *= other;\r\n\t\t\tthis.y *= other;\r\n\t\t}\r\n\t\telse if(other instanceof Vector2D)\r\n\t\t{\r\n\t\t\tthis.x *= other.x;\r\n\t\t\tthis.y *= other.y;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow new Error(\"Can only multiply by a number or another Vector2D\");\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tdivide(other: Vector2D | number)\r\n\t{\r\n\t\tif(typeof other === \"number\")\r\n\t\t{\r\n\t\t\tthis.x /= other;\r\n\t\t\tthis.y /= other;\r\n\t\t}\r\n\t\telse if(other instanceof Vector2D)\r\n\t\t{\r\n\t\t\tthis.x /= other.x;\r\n\t\t\tthis.y /= other.y;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow new Error(\"Can only divide by a number or another Vector2D\");\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tequal(other: Vector2D)\r\n\t{\r\n\t\treturn this.x === other.x && this.y === other.y;\r\n\t}\r\n\r\n\tcopy()\r\n\t{\r\n\t\treturn new Vector2D(this.x, this.y);\r\n\t}\r\n}\r\n","\r\nexport function isPowerOfTwo(x: number): boolean\r\n{\r\n\treturn (Math.log(x) / Math.log(2)) % 1 === 0;\r\n}\r\n\r\nlet ids: {[prefix: string]: number} = {};\r\nexport function generateUniqueID(prefix: string): string\r\n{\r\n\tif(!(prefix in ids))\r\n\t{\r\n\t\tids[prefix] = 0;\r\n\t}\r\n\r\n    return `${prefix}${ids[prefix]++}`;\r\n}\r\n\r\nexport function clamp(value: number, min: number, max: number): number\r\n{\r\n\treturn Math.min(Math.max(value, min), max);\r\n}\r\n","import React from \"react\";\r\nimport Vector2D from \"./Vector2D\";\r\nimport {generateUniqueID, clamp} from \"./util\";\r\nimport \"./Grid.scss\";\r\nimport $ from \"jquery\";\r\n\r\nexport interface IProps {\r\n\toffsetIncrement: number;\r\n\tzoomIncrement: number;\r\n\tzoomMultiplier: number;\r\n\tzoomOffsetMultiplier: number;\r\n\tzoomMinimum: number,\r\n\tzoomMaximum: number,\r\n\tgridSizeMinimum: number;\r\n\tgridSizeMaximum: number;\r\n}\r\n\r\nexport interface IState {\r\n\tuniqueID: string;\r\n\tgridSize: number;\r\n\tzoom: number;\r\n\toffset: Vector2D;\r\n\tsize: Vector2D;\r\n\tcolor1: string;\r\n\tcolor2: string;\r\n}\r\n\r\nexport default class Grid extends React.Component<IProps, IState>\r\n{\r\n\tpublic static defaultProps = {\r\n\t\toffsetIncrement: 32,\r\n\t\tzoomIncrement: 120,\r\n\t\tzoomMultiplier: 0.002,\r\n\t\tzoomOffsetMultiplier: 0.24,\r\n\t\tzoomMinimum: 0.064,\r\n\t\tzoomMaximum: 4,\r\n\t\tgridSizeMinimum: 2,\r\n\t\tgridSizeMaximum: 128\r\n\t}\r\n\r\n\tprivate _svg: React.RefObject<SVGSVGElement>;\r\n\tprivate _isDragging: boolean = false;\r\n\tprivate _dragCursorOffset: Vector2D = new Vector2D(0, 0);\r\n\tprivate _dragOffset: Vector2D = new Vector2D(0, 0);\r\n\r\n\tpublic constructor(props: IProps)\r\n\t{\r\n\t\tsuper(props);\r\n\r\n\t\tconst $window: JQuery<Window> = $(window);\r\n\t\tconst windowSize: Vector2D = new Vector2D($window.width()!,  $window.height()!);\r\n\r\n\t\tthis.state = {\r\n\t\t\tuniqueID: generateUniqueID(\"grid\"),\r\n\t\t\tgridSize: 32,\r\n\t\t\tzoom: 1,\r\n\t\t\toffset: new Vector2D(0, 0),\r\n\t\t\tsize: windowSize,\r\n\t\t\tcolor1: \"#202124\",\r\n\t\t\tcolor2: \"#303136\"\r\n\t\t};\r\n\r\n\t\tthis._svg = React.createRef();\r\n\t}\r\n\r\n\tpublic render(): React.ReactNode\r\n\t{\r\n\t\tconst offset: Vector2D = this.state.offset.copy().add(this.state.size.copy().divide(2).multiply(this.state.zoom));\r\n\t\tconst size: Vector2D = this.state.size.copy().multiply(this.state.zoom);\r\n\r\n\t\treturn (\r\n\t\t\t<svg className=\"Grid\" ref={this._svg} xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMinYMin\" width={`${this.state.size.x}px`} height={`${this.state.size.y}px`} viewBox={`${-offset.x},${-offset.y} ${size.x},${size.y}`} onMouseDown={this._svg_OnMouseDown_StartDragging} onMouseMove={this._svg_OnMouseMove_Drag}>\r\n\t\t\t\t<defs>\r\n\t\t\t\t\t<pattern id={`${this.state.uniqueID}_pattern1`} width={this.state.gridSize} height={this.state.gridSize} patternUnits=\"userSpaceOnUse\">\r\n\t\t\t\t\t\t<rect width={`${this.state.gridSize}`} height={`${this.state.gridSize}`} fill=\"none\" stroke={this.state.color1} strokeWidth=\"1\" />\r\n\t\t\t\t\t</pattern>\r\n\t\t\t\t\t<pattern id={`${this.state.uniqueID}_pattern2`} width={`${this.props.gridSizeMaximum}`} height={`${this.props.gridSizeMaximum}`} patternUnits=\"userSpaceOnUse\">\r\n\t\t\t\t\t\t<rect width={`${this.props.gridSizeMaximum}`} height={`${this.props.gridSizeMaximum}`} fill={`url(#${this.state.uniqueID}_pattern1)`} />\r\n\t\t\t\t\t\t<rect width={`${this.props.gridSizeMaximum}`} height={`${this.props.gridSizeMaximum}`} fill=\"none\" stroke={this.state.color1} strokeWidth=\"3\" />\r\n\t\t\t\t\t</pattern>\r\n\t\t\t\t</defs>\r\n\r\n\t\t\t\t<rect id={`${this.state.uniqueID}_rect1`} x={`${-offset.x}px`} y={`${-offset.y}px`} width=\"100%\" height=\"100%\" fill={`url(#${this.state.uniqueID}_pattern2)`} />\r\n\t\t\t\t<line id={`${this.state.uniqueID}_line1`} x1={`${-offset.x}px`} y1=\"0\" x2={`${-offset.x + size.x}px`} y2=\"0\" stroke={this.state.color2} strokeWidth=\"3\" />\r\n\t\t\t\t<line id={`${this.state.uniqueID}_line2`} x1=\"0\" y1={`${-offset.y}px`} x2=\"0\" y2={`${-offset.y + size.y}px`} stroke={this.state.color2} strokeWidth=\"3\" />\r\n\t\t\t\t<g className=\"Tile\" width=\"32px\" height=\"32px\" viewBox=\"0,0 32,32\" style={{transformOrigin: \"16px 16px\", transform: \"translate(0px, 0px) rotate(0deg)\"}}>\r\n\t\t\t\t\t<rect width=\"32px\" height=\"32px\" fill=\"white\" />\r\n\t\t\t\t\t<rect className=\"TilePointer\" x=\"0\" y=\"0\" width=\"32px\" height=\"32px\" fill=\"none\" />\r\n\t\t\t\t</g>\r\n\t\t\t\t<g className=\"Tile\" width=\"32px\" height=\"32px\" viewBox=\"0,0 32,32\" style={{transformOrigin: \"16px 16px\", transform: \"translate(32px, 0px) rotate(0deg)\"}}>\r\n\t\t\t\t\t<rect width=\"32px\" height=\"32px\" fill=\"white\" />\r\n\t\t\t\t\t<rect className=\"TilePointer\" x=\"0\" y=\"0\" width=\"32px\" height=\"32px\" fill=\"none\" />\r\n\t\t\t\t</g>\r\n\t\t\t\t<g className=\"Tile\" width=\"32px\" height=\"32px\" viewBox=\"0,0 32,32\" style={{transformOrigin: \"16px 16px\", transform: \"translate(0px, 32px) rotate(0deg)\"}}>\r\n\t\t\t\t\t<rect width=\"32px\" height=\"32px\" fill=\"white\" />\r\n\t\t\t\t\t<rect className=\"TilePointer\" x=\"0\" y=\"0\" width=\"32px\" height=\"32px\" fill=\"none\" />\r\n\t\t\t\t</g>\r\n\t\t\t\t<g className=\"Tile\" width=\"32px\" height=\"32px\" viewBox=\"0,0 32,32\" style={{transformOrigin: \"16px 16px\", transform: \"translate(32px, 32px) rotate(0deg)\"}}>\r\n\t\t\t\t\t<rect width=\"32px\" height=\"32px\" fill=\"white\" />\r\n\t\t\t\t\t<rect className=\"TilePointer\" x=\"0\" y=\"0\" width=\"32px\" height=\"32px\" fill=\"none\" />\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t);\r\n\t}\r\n\r\n\tpublic componentDidMount()\r\n\t{\r\n\t\tconst $document: JQuery<Document> = $(document);\r\n\t\tconst $window: JQuery<Window> = $(window);\r\n\t\tconst $svg: JQuery<SVGSVGElement> = $(this._svg.current!);\r\n\r\n\t\t$document.on(\"mouseup\", this._document_OnMouseUp_StopDragging);\r\n\t\t$document.on(\"keydown\", this._document_OnKeyDown_Hotkeys);\r\n\t\t$window.on(\"resize\", this._window_Resize_SetSize);\r\n\t\t$svg.on(\"mousewheel\", this._svg_OnMouseWheel_Zoom);\r\n\t}\r\n\r\n\tpublic componentWillUnmount()\r\n\t{\r\n\t\tconst $document: JQuery<Document> = $(document);\r\n\t\tconst $window: JQuery<Window> = $(window);\r\n\t\tconst $svg: JQuery<SVGSVGElement> = $(this._svg.current!);\r\n\r\n\t\t$document.off(\"mouseup\", this._document_OnMouseUp_StopDragging);\r\n\t\t$document.off(\"keydown\", this._document_OnKeyDown_Hotkeys);\r\n\t\t$window.off(\"resize\", this._window_Resize_SetSize);\r\n\t\t$svg.off(\"mousewheel\", this._svg_OnMouseWheel_Zoom);\r\n\t}\r\n\r\n\tpublic addZoom(zoomAdd: number)\r\n\t{\r\n\t\tthis.setState({\r\n\t\t\tzoom: clamp(this.state.zoom - zoomAdd * this.state.zoom * this.props.zoomMultiplier, this.props.zoomMinimum, this.props.zoomMaximum)\r\n\t\t});\r\n\t}\r\n\r\n\tpositionToGrid(position: Vector2D): Vector2D\r\n\t{\r\n\t\treturn new Vector2D(\r\n\t\t\tMath.floor(position.x / this.state.gridSize),\r\n\t\t\tMath.floor(position.y / this.state.gridSize)\r\n\t\t)\r\n\t}\r\n\r\n\tgridToPosition(gridPosition: Vector2D): Vector2D\r\n\t{\r\n\t\treturn gridPosition.copy().multiply(this.state.gridSize);\r\n\t}\r\n\r\n\tprivate _svg_OnMouseWheel_Zoom = (event: any) =>\r\n\t{\r\n\t\tif(event.ctrlKey)\r\n\t\t{\r\n\t\t\tif((event.originalEvent.wheelDelta > 0 && this.state.zoom > this.props.zoomMinimum) || (event.originalEvent.wheelDelta < 0 && this.state.zoom < this.props.zoomMaximum))\r\n\t\t\t{\r\n\t\t\t\tconst $window = $(window);\r\n\t\t\t\tconst add = new Vector2D(\r\n\t\t\t\t\t(event.offsetX - ($window.width()! / 2)) * this.state.zoom * this.props.zoomOffsetMultiplier,\r\n\t\t\t\t\t(event.offsetY - ($window.height()! / 2)) * this.state.zoom * this.props.zoomOffsetMultiplier\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\toffset: event.originalEvent.wheelDelta > 0 ? this.state.offset.copy().subtract(add) : this.state.offset.copy().add(add)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.addZoom(event.originalEvent.wheelDelta);\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _svg_OnMouseDown_StartDragging = (event: React.MouseEvent) =>\r\n\t{\r\n\t\tswitch(event.button)\r\n\t\t{\r\n\t\t\tcase 1:\r\n\t\t\t\tthis._dragOffset.x = this.state.offset.x;\r\n\t\t\t\tthis._dragOffset.y = this.state.offset.y;\r\n\t\t\t\tthis._dragCursorOffset.x = event.nativeEvent.offsetX;\r\n\t\t\t\tthis._dragCursorOffset.y = event.nativeEvent.offsetY;\r\n\t\t\t\tthis._isDragging = true;\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _document_OnMouseUp_StopDragging = (event: JQuery.MouseUpEvent) =>\r\n\t{\r\n\t\tthis._isDragging = false;\r\n\t}\r\n\r\n\tprivate _svg_OnMouseMove_Drag = (event: React.MouseEvent) =>\r\n\t{\r\n\t\tif(this._isDragging)\r\n\t\t{\r\n\t\t\tthis.setState({\r\n\t\t\t\toffset: new Vector2D(\r\n\t\t\t\t\tthis._dragOffset.x + (event.nativeEvent.offsetX - this._dragCursorOffset.x) * this.state.zoom,\r\n\t\t\t\t\tthis._dragOffset.y + (event.nativeEvent.offsetY - this._dragCursorOffset.y) * this.state.zoom\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _document_OnKeyDown_Hotkeys = (event: JQuery.KeyDownEvent) =>\r\n\t{\r\n\t\tswitch(event.key)\r\n\t\t{\r\n\t\t\tcase \"ArrowLeft\":\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\toffset: new Vector2D(this.state.offset.x + this.props.offsetIncrement, this.state.offset.y)\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"ArrowUp\":\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\toffset: new Vector2D(this.state.offset.x, this.state.offset.y + this.props.offsetIncrement)\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"ArrowRight\":\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\toffset: new Vector2D(this.state.offset.x - this.props.offsetIncrement, this.state.offset.y)\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"ArrowDown\":\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\toffset: new Vector2D(this.state.offset.x, this.state.offset.y - this.props.offsetIncrement)\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"w\":\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgridSize: Math.min(this.state.gridSize * 2, this.props.gridSizeMaximum)\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"s\":\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgridSize: Math.max(this.state.gridSize / 2, this.props.gridSizeMinimum)\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"+\":\r\n\t\t\t\tif(event.ctrlKey)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.addZoom(-this.props.zoomIncrement);\r\n\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"-\":\r\n\t\t\t\tif(event.ctrlKey)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.addZoom(this.props.zoomIncrement);\r\n\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _window_Resize_SetSize = (event: JQuery.ResizeEvent) =>\r\n\t{\r\n\t\tconst $window: JQuery<Window> = $(window);\r\n\r\n\t\tthis.setState({\r\n\t\t\tsize: new Vector2D($window.width()!, $window.height()!)\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n\tplaceTile(tile, gridPosition, colorIndex, color, rotation)\r\n\t{\r\n\t\tthis.html.append(tile.buildHTML(false, this.gridSize, gridPosition.copy().multiply(this.gridSize), color, rotation));\r\n\r\n\t\tconst tileHTML = this.html.find(\"> :last-child\");\r\n\t\ttileHTML.data(\"gridPosition\", gridPosition);\r\n\t\ttileHTML.data(\"gridSize\", this.gridSize);\r\n\t\ttileHTML.attr(\"color-index\", colorIndex);\r\n\r\n\t\treturn tileHTML;\r\n\t}\r\n\r\n\tupdateColor(colorIndex, color)\r\n\t{\r\n\t\tthis.html.find(`> g[color-index=\"${colorIndex}\"] > :not(.tile-pointer)`).attr(\"fill\", color);\r\n\t}\r\n\r\n\tcursorToView(cursorPosition)\r\n\t{\r\n\t\treturn new Vector2D(\r\n\t\t\t(cursorPosition.x - this.offset.x) * (this.zoom / this.html.width()),\r\n\t\t\t(cursorPosition.y - this.offset.y) * (this.zoom / this.html.height())\r\n\t\t);\r\n\t}\r\n\t*/\r\n}","import React from \"react\";\nimport Grid from \"./Grid\";\nimport Tile from \"./Tile\";\nimport Tileset from \"./Tileset\";\n//import \"./App.scss\";\n\nexport interface IProps {\n\ttilesets: {[tilesetID: string]: Tileset};\n}\n\nexport interface IState {\n\tselectedTileset: Tileset;\n\tselectedTile: Tile;\n}\n\nexport default class App extends React.Component<IProps, IState>\n{\n\tgrid: React.RefObject<Grid>;\n\n\tconstructor(props: IProps)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tselectedTileset: props.tilesets[\"default\"],\n\t\t\tselectedTile: props.tilesets[\"default\"].getTile(\"tile1\")\n\t\t};\n\n\t\tthis.grid = React.createRef();\n\t}\n\n\trender(): React.ReactNode\n\t{\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<div className=\"Content\">\n\t\t\t\t\t<Grid ref={this.grid} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"SidePanel\">\n\t\t\t\t\t<div className=\"Tools\"></div>\n\t\t\t\t\t<div className=\"ToolProperties\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import Tile from \"./Tile\";\r\n\r\nexport default class Tileset\r\n{\r\n\tname: string;\r\n\t_tiles: {[key: string]: Tile};\r\n\r\n\tget tiles()\r\n\t{\r\n\t\treturn this._tiles;\r\n\t}\r\n\r\n\tconstructor(name: string)\r\n\t{\r\n\t\tthis.name = name;\r\n\t\tthis._tiles = {};\r\n\t}\r\n\r\n\tsetTile(tileID: string, tile: Tile)\r\n\t{\r\n\t\tthis._tiles[tileID] = tile;\r\n\t}\r\n\r\n\tgetTile(tileID: string)\r\n\t{\r\n\t\treturn this._tiles[tileID];\r\n\t}\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./index.scss\";\nimport Tileset from \"./Tileset\";\n\nReactDOM.render(\n\t(\n\t\t<React.StrictMode>\n\t\t\t<App tilesets={{default: new Tileset(\"default\")}} />\n\t\t</React.StrictMode>\n\t),\n\tdocument.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}